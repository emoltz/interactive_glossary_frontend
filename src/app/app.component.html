<main>
  <h1>{{ title }}</h1>
  <div class="p-1 grid grid-cols-2">
    <div class="">
      <div class="flex flex-wrap p-2 gap-1">
        <app-select
          [title]="'Grade Level'"
          [selection]="gradeLevel"
          [dropdownOptions]="[1, 2, 3, 4, 5, 6, 7, 8]"
        />

        <app-select
          [title]="'Language'"
          [selection]="language"
          [dropdownOptions]="availableLanguages"
        />

      </div>
      <div class="grid gap-3 grid-cols-1 overflow-auto h-screen ">
      @if (termsAndDefs) {
        @for (termDef of termsAndDefs; track termDef.id) {
          <app-card
            [term]="termDef.term"
            [definition]="termDef.definition"
            [gradeLevel]="termDef.reading_level"
            (click)="onCardClick(termDef)"
          >
          </app-card>
        }
      } @else {
        <p>Loading terms...</p>
      }

      </div>
    </div>
    <div class="">
      <app-side-panel [termsAndDefs]="selectedTermsAndDefs()" (close)="onCloseTerm($event)"></app-side-panel>
    </div>
  </div>


</main>


<router-outlet/>
